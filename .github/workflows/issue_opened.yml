name: ✉️ Create Postcard Form Opened

on: 
  issues: 
    types:
      - opened
      - reopened

jobs: 
  execute_workflow:
    if: | 
      contains(github.event.issue.labels.*.name, 'postcardbot')

    runs-on: Ubuntu-latest

    steps: 
      - name: 🕵🏻‍♂️ Extract Form Template Data
        id: issue_payload
        uses: peter-murray/issue-forms-body-parser@v3
        with:
          separator: '###'
          issue_id: ${{ github.event.issue.number }}
          label_marker_start: '>>>'
          label_marker_end: '<<<'
      - name: 🖨 Print parsed data
        run: |
          echo "${{ steps.issue_payload.outputs.payload }}"
      - name: ⚙️ Seup Imagemagick
        uses: mfinelli/setup-imagemagick@67fecad2dcf09148b5e1e4c14917fbf06265975a
